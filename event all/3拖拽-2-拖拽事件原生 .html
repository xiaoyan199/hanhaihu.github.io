<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style type="text/css">
div{ width:100px; height:100px; position:absolute; top:0; left:0; background:red; overflow:hidden; cursor:move; -webkit-user-select:none;}
</style>
</head>

<body>
<div id="div1" draggable="true"></div>
<div id="div2"  draggable="true" style="background:green; left:120px; "></div>
<div id="div3"  draggable="true" style="background:blue; left:240px; "></div>
<div id="div4"  draggable="true" style="background:purple; left:150px; top:110px; "><img src="img/6.png" width="100" height="100"></div>
<div id="div5"  draggable="true" style="background:pink; top:220px;"><img src="img/1.png" width="100" height="100"></div>
</body>
</html>
<script src="event1.js"></script>
<script>
var oDivs=document.getElementsByTagName("div");
for(var i=0;i<oDivs.length;i++){
	oDivs.item(i).addEventListener("dragstart",fnDragstart,false);
	//oDivs.item(i).ondragstart	= fnDragstart;
	oDivs.item(i).addEventListener("drag",fnDrag,false);
	//oDivs.item(i).ondrag=fnDrag;
	oDivs.item(i).addEventListener("dragend",fnDragend,false);
}

function fnDragstart(e){
	this.x=this.offsetLeft;
	this.y=this.offsetTop;
	this.mx=e.pageX;
	this.my=e.pageY;
}

function fnDrag(e){
	this.style.left=e.pageX-this.mx+this.x+"px";
	this.style.top=e.pageY-this.my+this.y+"px";	
	this.style.cursor="move";
}
//这个块元素中的一些有文本性质的行内元素会认为mousedown的时候，用户在做选择的操作，user-select操作

function fnDragend(e){
	this.style.left=e.pageX-this.mx+this.x+"px";
	this.style.top=e.pageY-this.my+this.y+"px";	
}

</script>
